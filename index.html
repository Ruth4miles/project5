<!DOCTYPE html>
<html lang="en">
<style>
    #map {
        height: calc(100vh - 155px);
        width: 100%;
    }

    #messages {
	background-color:yellow;
	font-size:3;
	font-weight:bold;
	line-height:140%;
    }
    #status{
	background-color:red;
	font-size:4;
	font-weight:bold;
	color:white;
	line-height:140%;
    }

</style>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab 5</title>

    <!-- Link the Leaflet js and css files files -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" integrity="sha512-07I2e+7D8p6he1SIM+1twR5TIrhUQn9+I6yjqD53JQjFiMf8EtC93ty0/5vJTZGF8aAocvHYNEDJajGdNx1IsQ==" crossorigin="" />
    <script type="text/javascript" src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js" integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin=""></script>
    

    <!-- script for MQTT-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.min.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js" type="text/javascript"></script>
 
	<!-- Add Bootstrap CSS link -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<body>

</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <div  class = "col-6">
                <h1>Websockets Using JavaScript MQTT Client</h1>
                Connection status: <p id="status"> </p>
                <h3>User details</h3>
                <label for="username">Name:</label><input type="text" id="username"><br>
                <label for="course">Course Code:</label><input type="text" id="course"><br>
                <label for="host">Host:</label><input type="text" id="host"><br>
                <label for="port">Port:</label><input type="text" id="port"><br>
                <button onclick="connMQTT()" id="start-butt">Start</button>
                <button onclick="MQTTdisconnect()" id="end-butt">End</button><br>
                <hr>
            </div>

            <div id="div-mqt" class = "col-6">
                <h3>Publish:</h3>
                <label for="topic-pub">Publish Topic:</label><input type="text" id="topic-pub"><br>
                <label for="message-pub">Message:</label><input type="text" id="message-pub"><br>
                <button onclick="publ()">Publish</button><br>
                <hr>
                <h3>Subscription:</h3>
                <label for="scribe-topic">Topic:</label><input type="text" id="subscribe-topic"><br>
                <button onclick="sub_topics('sub')">Subscribe</button>
                <button onclick="sub_topics('unsub')">Unsubscribe</button>
                <br>
                <hr>
                <h3>My status:</h3>
                <button onclick="pub_status()">Share my Status</button><br>
                <hr>

            <div id="div-mqt">
                <h3>Received Messages</h3>
                Topic:  <p id="topic"> </p>
                Message:  <p id="message"> </p>
                <hr>
            </div>
        </div>
    </div>

        

            </div>
        </div>
    </div>
        <div id="map"></div>
    </div>
    <script type="text/javascript" src="websocket-script.js"></script>
</body>
</html>
